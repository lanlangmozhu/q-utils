---
description: 
globs: 
alwaysApply: false
---
---
name: gitflow
description: Gitflow工作流规则。在执行git操作时应该应用这些规则。
---
# Gitflow工作流规则

##主要分支

### main（或master）
-包含生产就绪代码
-永远不要直接提交到main
-只接受来自：
- hotfix/* branches
-释放/*分支
-每次合并后必须标记版本号

# # #发展
-主要发展分支
-包含最新交付的开发变更
-特性分支的源分支
-永远不要直接承诺开发

支持分支

/ * # # #特性
—分支from：发展
—Merge back into: develop
—命名约定：feature/[issue-id]- description -name
—示例：feature/123-user-authentication
-在创建PR之前必须了解最新的开发情况
-合并后删除

# # #释放/ *
—分支from：发展
-合并回：
——主要
——开发
—命名约定：release/vX.Y.Z
—例如：release/v1.2.0
-只有bug修复，文档和面向发布的任务
-无新功能
-合并后删除

# # #热修复补丁/ *
-分支from: main
-合并回：
——主要
——开发
—命名约定：hotfix/vX.Y.Z
—例如：“hotfix/v1.2.1”
-仅用于紧急生产修复
-合并后删除

##提交消息

-格式：“类型（范围）：描述”
——类型:
-壮举：新功能
- fix: Bug修复
- docs：文档变更
- style：格式化，缺少分号等。
- refactor：代码重构
—test：添加测试
—chore：维护任务

##版本控制

语义版本控制
-不兼容API更改的主要版本
-次要版本向后兼容的功能
-补丁版本的向后兼容的错误修复

拉取请求规则

1. 所有更改都必须通过Pull Requests
2. 所需批准：最少1个
3. CI检查必须通过
4. 不直接提交到受保护的分支（main、develop）
5. 分支在合并之前必须是最新的
6. 合并后删除分支

分支保护规则

###主要和发展
-要求拉取请求审查
—要求状态检查通过
-要求分支是最新的
—限制中包含管理员
-无力推
-无删除

##发布流程

1. 从开发中创建发布分支
2. 碰撞版本号
3. 修复任何特定于发行版的问题
4. 创建PR到主
5. 合并到main后：
—标签释放
-合并回开发
-删除发布分支

## Hotfix进程

1. 从main创建热修复分支
2. 修复问题
3. 补丁版本
4. 创建PR到主
5. 合并到main后：
—标签释放
-合并回开发
—删除热修复分支